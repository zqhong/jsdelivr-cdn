(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{Fofh:function(e,t,a){"use strict";a.r(t),function(e){a.d(t,"getNavModel",(function(){return v}));var n,r,s,i,c=a("q1tI"),o=a("/MKj"),l=a("0cfB"),d=a("kDLi"),u=a("Csm0"),g=a("ZGyg"),j=a("5BCB"),h=a("frIo"),p=a("EKT6"),b=a("FFN/"),m=a("jcCG"),f=a("xLfX"),O=a("nKUr");function x(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class S extends c.PureComponent{constructor(...e){super(...e),x(this,"onDataSourceTypeClicked",e=>{this.props.addDataSource(e)}),x(this,"onSearchQueryChange",e=>{this.props.setDataSourceTypeSearchQuery(e)}),x(this,"onLearnMoreClick",e=>{e.stopPropagation()})}componentDidMount(){this.props.loadDataSourcePlugins()}renderPlugins(e){return e&&e.length?Object(O.jsx)(d.List,{items:e,getItemKey:e=>e.id.toString(),renderItem:e=>Object(O.jsx)(y,{plugin:e,onClick:()=>this.onDataSourceTypeClicked(e),onLearnMoreClick:this.onLearnMoreClick})}):null}renderCategories(){const{categories:e}=this.props;return Object(O.jsxs)(O.Fragment,{children:[e.map(e=>Object(O.jsxs)("div",{className:"add-data-source-category",children:[Object(O.jsx)("div",{className:"add-data-source-category__header",children:e.title}),this.renderPlugins(e.plugins)]},e.id)),n||(n=Object(O.jsx)("div",{className:"add-data-source-more",children:Object(O.jsx)(d.LinkButton,{variant:"secondary",href:"https://grafana.com/plugins?type=datasource&utm_source=grafana_add_ds",target:"_blank",rel:"noopener",children:"Find more data source plugins on grafana.com"})}))]})}render(){const{navModel:e,isLoading:t,searchQuery:a,plugins:n}=this.props;return Object(O.jsx)(g.b,{navModel:e,children:Object(O.jsxs)(g.b.Contents,{isLoading:t,children:[Object(O.jsxs)("div",{className:"page-action-bar",children:[Object(O.jsx)(p.a,{value:a,onChange:this.onSearchQueryChange,placeholder:"Filter by name or type"}),r||(r=Object(O.jsx)("div",{className:"page-action-bar__spacer"})),s||(s=Object(O.jsx)(d.LinkButton,{href:"datasources",fill:"outline",variant:"secondary",icon:"arrow-left",children:"Cancel"}))]}),!a&&(i||(i=Object(O.jsx)(f.a,{}))),Object(O.jsxs)("div",{children:[a&&this.renderPlugins(n),!a&&this.renderCategories()]})]})})}}const y=e=>{var t,a;const{plugin:n,onLearnMoreClick:r}=e,s="phantom"===n.module,i=s||n.unlicensed?()=>{}:e.onClick,c=(null===(t=n.info)||void 0===t||null===(a=t.links)||void 0===a?void 0:a.length)>0?n.info.links[0]:null;return Object(O.jsx)(m.a,{title:n.name,description:n.info.description,ariaLabel:u.a.pages.AddDataSource.dataSourcePlugins(n.name),logoUrl:n.info.logos.small,actions:Object(O.jsxs)(O.Fragment,{children:[c&&Object(O.jsx)(d.LinkButton,{variant:"secondary",href:c.url+"?utm_source=grafana_add_ds",target:"_blank",rel:"noopener",onClick:r,icon:"external-link-alt",children:c.name}),!s&&Object(O.jsx)(d.Button,{disabled:n.unlicensed,children:"Select"})]}),labels:!s&&Object(O.jsx)(d.PluginSignatureBadge,{status:n.signature}),className:s?"add-data-source-item--phantom":"",onClick:i,"aria-label":u.a.pages.AddDataSource.dataSourcePlugins(n.name)})};function v(){const e={icon:"database",id:"datasource-new",text:"Add data source",href:"datasources/new",subTitle:"Choose a data source type"};return{main:e,node:e}}const C={addDataSource:j.a,loadDataSourcePlugins:j.e,setDataSourceTypeSearchQuery:b.j};t.default=Object(l.hot)(e)(Object(o.connect)((function(e){return{navModel:v(),plugins:Object(h.c)(e.dataSources),searchQuery:e.dataSources.dataSourceTypeSearchQuery,categories:e.dataSources.categories,isLoading:e.dataSources.isLoadingDataSources}}),C)(S))}.call(this,a("3UD+")(e))},jcCG:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));a("q1tI");var n=a("vF1F"),r=a("nKUr");const s=({logoUrl:e,title:t,description:a,labels:s,actions:i,onClick:c,ariaLabel:o,className:l})=>{const d=Object(n.cx)("add-data-source-item",l);return Object(r.jsxs)("div",{className:d,onClick:c,"aria-label":o,children:[e&&Object(r.jsx)("img",{className:"add-data-source-item-logo",src:e}),Object(r.jsxs)("div",{className:"add-data-source-item-text-wrapper",children:[Object(r.jsx)("span",{className:"add-data-source-item-text",children:t}),a&&Object(r.jsx)("span",{className:"add-data-source-item-desc",children:a}),s&&Object(r.jsx)("div",{className:"add-data-source-item-badge",children:s})]}),i&&Object(r.jsx)("div",{className:"add-data-source-item-actions",children:i})]})}},xLfX:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return m}));a("q1tI");var n,r=a("Csm0"),s=a("kDLi"),i=a("y6t6"),c=a("jGYO"),o=a("aBYM"),l=a.n(o),d=a("/MKj"),u=a("0cfB"),g=a("Obii"),j=a("vF1F"),h=a("nKUr");const p=e=>({errors:Object(i.a)(e.plugins)}),b={loadPluginsErrors:c.d},m=(Object(d.connect)(p,b),Object(u.hot)(e)(Object(d.connect)(p,b)(({loadPluginsErrors:e,errors:t,children:a})=>{const i=Object(s.useTheme)(),{loading:o}=l()(async()=>{await e()},[c.c]);return o||0===t.length?null:Object(h.jsx)(s.InfoBox,{"aria-label":r.a.pages.PluginsList.signatureErrorNotice,severity:"warning",urlTitle:"Read more about plugin signing",url:"https://grafana.com/docs/grafana/latest/plugins/plugin-signatures/",children:Object(h.jsxs)("div",{children:[n||(n=Object(h.jsx)("p",{children:"Unsigned plugins were found during plugin initialization. Grafana Labs cannot guarantee the integrity of these plugins. We recommend only using signed plugins."})),"The following plugins are disabled and not shown in the list below:",Object(h.jsx)(s.List,{items:t,className:j.css`
            list-style-type: circle;
          `,renderItem:e=>Object(h.jsx)("div",{className:j.css`
                margin-top: ${i.spacing.sm};
              `,children:Object(h.jsxs)(s.HorizontalGroup,{spacing:"sm",justify:"flex-start",align:"center",children:[Object(h.jsx)("strong",{children:e.pluginId}),Object(h.jsx)(s.PluginSignatureBadge,{status:f(e.errorCode),className:j.css`
                    margin-top: 0;
                  `})]})})}),a]})})})));function f(e){switch(e){case g.PluginErrorCode.invalidSignature:return g.PluginSignatureStatus.invalid;case g.PluginErrorCode.missingSignature:return g.PluginSignatureStatus.missing;case g.PluginErrorCode.modifiedSignature:return g.PluginSignatureStatus.modified;default:return g.PluginSignatureStatus.missing}}}).call(this,a("3UD+")(e))},y6t6:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r})),a.d(t,"c",(function(){return s}));const n=e=>{const t=new RegExp(e.searchQuery,"i");return e.plugins.filter(e=>t.test(e.name)||t.test(e.info.author.name)||t.test(e.type)||t.test(e.info.description))},r=e=>e.errors,s=e=>e.searchQuery}}]);
//# sourceMappingURL=NewDataSourcePage.62c612232a976d8836f5.js.map